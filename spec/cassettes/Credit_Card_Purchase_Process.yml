---
http_interactions:
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/adapter/httppost
    body:
      encoding: US-ASCII
      string: paymentRequest.reference=R551676869&paymentRequest.merchantAccount=<ADYEN_MERCHANT_ACCOUNT>&paymentRequest.amount.value=2000&paymentRequest.amount.currency=USD&paymentRequest.shopperIP=&paymentRequest.shopperEmail=spree%40example.com&paymentRequest.shopperReference=1&paymentRequest.billingAddress.street=10+Lovely+Street&paymentRequest.billingAddress.houseNumberOrName=NA&paymentRequest.billingAddress.city=Herndon&paymentRequest.billingAddress.postalCode=57627-1316&paymentRequest.billingAddress.stateOrProvince=AL&paymentRequest.billingAddress.country=US&paymentRequest.additionalData.card.encrypted.json=adyenjs_0_1_18%24n6zrX%2FRd2ziHwS%2F8ZoiOKK4QRi2kwjWxmvCC7VicYNeBb82WmclQEo0r1%2BsfdAZPDi8bEsbr87%2FQnSSgz%2F1jBE2HDa2s6HUaFeezF7n1tkDOzUX6VqPhBar6T4naD0MImefNQE%2F55CuIeL7FORR9evthlzk4hFUm8Iwqww8KWZ%2BmKYUVyzhZZ3urp4v%2FVyPkfGoAn2R54zpE30%2B%2BlCUqdKUqqV6NpUM6Z7CSJZntjNdx2GhE9PvcyvtX4EQ6TBNvok41NjAltRX6mu5%2Bgv%2Fp31WE8XaQv7B7zZniOV%2BNOfMTwd69RtQJBCOYsdqt%2BVOl5taHLO8NiEcAGXjmhuvpgw%3D%3D%24Y56pTaXrDY4uqqG9vP7TDOtTbFjPdcIlyG%2BxwfRnZXikFvhPfx%2F0%2FNsveSkdxWde5r1tvbqGiGl3b06c%2BPNwBrzidAWIx8UCTIE6PIIM3JAL73t0nThp701Ij2NfTnNfJ2MiglYFimarOR5Y%2FXiUIl9Dr2PRv6R3%2BdGiaGbKPtu5RZCzwrn%2FLP%2B7MJpdgLPQjq6J%2FXNa1VEE%2FWxHzNTkAJB1WvhCI%2FQlNGApzn7BM9cKjHBK9l13uBzYyt9D1nNAQKzq2SpcgGoU1swwXXoANT0c1D14tWtjeCDEbQ0uwjeeEjv5yOpBZ9zOTqvX5mqX1aB%2FeQLJEABKlcrAcL2Jv6FxmdLxY2u3jCNKmENT9ocfAqYbWFOwNT1LydZ7w5emIw7BG1BcX%2Bcn%2FGeMPvWIQjpomV%2FX11mmjTC7RySRH3KDhYlNCt3fT9Q%2FuinxfCJMNrFev9qpYRWcyHsddxbCXO%2B%2B%2BdKOVdExoYE3mj6%2FoTwE%2BisgfAAP3RvkzobI2GgbLHdDvDOh5I%2BX2ONZmQ7WfmJOU9cwNsLtuOUqIzu4IZi%2BWZNRz99QTWgMcdWEjuY0Nfl4PnL0PJ74h8a5Wk%2Bw4zcuTumQqBShqbK4Vxg7QpYSx9dPCRTf4W2RMNvrlA4sp%2B3J10HvJgPM2T8nNegs64iVnCGWaIP8MA4k0rKSXFiMQ51PNUOn6YxAJ9%2B7ACcxBQWkHj0tlUrQz8PO2L7jwpvv6dAsFb8KY47u1Br1yOqo8U5ef1%2FLZQ6t1QDU%2FuqOZAG3QhGG6lRyXmfmPg%2BQmu5jm%2Fb9Bmy5bPlH8e1wcOyuOPjH%2Fu%2BUEyqlFYNpVHywOfrmWt4nGebpQstvN%2F9vKdwVdOJKcUelKg6wuBxCksVez%2BZLq9JY7ROl5en0gNZRGMt7SkleY1krIJt%2FZXe0Sc1FUHbag54Pzo499FX%2BZ6tztoMBomNBdf10SccLHWAdj2j63YEFUZOlHHeZpnFd4o%2FeDRZbi0jYSMdlIPeWv3UoDEEEKSIdEUCciEppZDGcSf9mDYmoXdF5HEjEbc7%2FuwbCkTz2sTtvuSXDedyyKEbxzMOysDwDeB95%2B7HlcgF6J6NJOhh5m8beyiJnvA%2BgyC3ffXouS1oJkW%2FdsmQhz3EksOjbntnZw8bWBzig8mkGUdk6rxSGV%2BWjQRczLpiQF9LntZFIGUyzpgwWNsD%2B%2F7R9Ae3TPyd8vbbYeYWsVpbJdveLlvQKaqjpbTPD0OccfyR2ZRtXcVh5b%2FDXs6ZhGf6xH%2Bif89m6qMNLcx0zOlyTzcbnrIa%2F2w%2F6OZJqflgyaAs8Dg5dzk7lAuYE7rPXHy%2BWba3%2B7UFDSEKz9l0kUg0NOWQ4ZhFOuLcmj2ZM1nwIuCjpqTx%2BqAffWVR7gRMpX5k0PwRl7Ef5%2BxCLyMDY6Np0jYpSNSpePXJGyoWoeWNqtsr%2B1Yez9dg5byMVjW%2Bkxo5kniE0NUSVdjagFvkvE85a3Ky21eqgQkggcTh7yjQ5Xm0dS%2F1FWAQupt%2FtB9q%2Bykd%2FCEM9N0SkGQeFvcqD1LzX%2FqIpiv%2Fv%2FCuDCoTus%2BvQeq%2BUmq4eYFCO76Kc9eDyIJCCMmOOwohL0gGu9%2BRgcFl81%2BdaI5hfFNBpDm7BCxKTeX33YK3oUFMbojGTTwcyllWVXid5vHK4ooQpdRMsKNRMzn%2BY0scsNMxaR0eXgOjMC8hzYGfW3LPrYEa5PFgvCa2YaR3S3xGmgjIDZGaBFrWUYVAfkOAnRgJtymY4LZGF74K3Yn5Rak6J72qcbJ0KmChBRWEYRIQyS6r8Jq66LrIfVwJeJsjtEv8RpgdS0En5r4HQVnt8eJESCl81Gz64W%2BYP2Dc3nTmuv4T2U5BAsA6FggcHoySpESTiCnmiguRGFg0N2P5WccrTrwPM3L7Nnhau7LgAe4I72oT0aNPONoSX8orVtMHCZecOH9CVNOK9zjEizL9CNA2sZ3Xc00OtNEO771cLaf%2FlSXrdCC10ajHOU%2FTsZsa9%2F0yazfiDYQN34%2BCBYFgDeTuss2cyRLJngHvkZ3flu9Jd0VJkRmoBr%2B3D3bvhfGJxizIVON8GJ1HUXW2jZmwWPSLnfcwOt8C3GmL4oglsl6Gftcv6mK8Ag7zayb0qHnvpPxgUpB6ZhZvsHQe8o%2F9fJMWiYCXvJNlSCIv6dVS1w9eJjUPlGptFcU5HymaawzG4kQkO6ddmYIo%2BxLeoMQbh5JeHP5p2Tvm%2Fn%2BAkHm6HDc4u%2BKYJ1FBrVrolCmhQ53Lv8WzkkUKYH7TdIRsrOLg6w9zKP4NHI0uW3YbR1XnGRU0qf6UBm7j%2Bd3eqXnuAc80OaSjt4UL%2FmE646Kkal84JhJjX6L%2Fs55POAHfyo0Z5D0AwxWrTpQ2HLLNU1jAqRIl5&paymentRequest.recurring.contract=RECURRING&action=Payment.authorise
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 10 Aug 2017 23:44:33 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=7E346F1518FD5399F54D4C1A3929B77B.test3e; Path=/pal; Secure; HttpOnly
      Content-Length:
      - '108'
      Content-Type:
      - application/x-www-form-urlencoded
    body:
      encoding: UTF-8
      string: paymentResult.resultCode=Authorised&paymentResult.pspReference=8525024086731809&paymentResult.authCode=64731
    http_version: 
  recorded_at: Thu, 10 Aug 2017 23:44:33 GMT
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/adapter/httppost
    body:
      encoding: US-ASCII
      string: recurringDetailsRequest.merchantAccount=<ADYEN_MERCHANT_ACCOUNT>&recurringDetailsRequest.shopperReference=1&recurringDetailsRequest.recurring.contract=RECURRING&action=Recurring.listRecurringDetails
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 10 Aug 2017 23:44:34 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=928E8727125F3B817AB4E7E4E73957D9.test3e; Path=/pal; Secure; HttpOnly
      Content-Length:
      - '2437'
      Content-Type:
      - application/x-www-form-urlencoded
    body:
      encoding: UTF-8
      string: recurringDetailsResult.details.1.billingAddress.street=10+Lovely+Street&recurringDetailsResult.details.1.variant=discover&recurringDetailsResult.details.1.billingAddress.city=Herndon&recurringDetailsResult.details.0.variant=amex&recurringDetailsResult.details.1.paymentMethodVariant=discover&recurringDetailsResult.details.1.card.billingAddress.country=US&recurringDetailsResult.details.0.card.holderName=Test+Tester&recurringDetailsResult.details.1.card.billingAddress.houseNumberOrName=NA&recurringDetailsResult.details.0.aliasType=Default&recurringDetailsResult.details.0.firstPspReference=8514407972386866&recurringDetailsResult.details.0.alias=K489418218765970&recurringDetailsResult.details.0.card.expiryMonth=6&recurringDetailsResult.details.1.additionalData.cardBin=601160&recurringDetailsResult.details.0.card.number=0002&recurringDetailsResult.details.1.aliasType=Default&recurringDetailsResult.details.1.card.billingAddress.street=10+Lovely+Street&recurringDetailsResult.details.1.card.number=6611&recurringDetailsResult.details.1.billingAddress.postalCode=57627-1316&recurringDetailsResult.details.1.card.holderName=John+Doe&recurringDetailsResult.details.1.billingAddress.stateOrProvince=AL&recurringDetailsResult.details.1.card.billingAddress.stateOrProvince=AL&recurringDetailsResult.creationDate=2015-08-28T23%3A27%3A19%2B02%3A00&recurringDetailsResult.details.1.card.billingAddress.postalCode=57627-1316&recurringDetailsResult.shopperReference=1&recurringDetailsResult.details.0.card.expiryYear=2016&recurringDetailsResult.details.0.paymentMethodVariant=amex&recurringDetailsResult.details.1.alias=M512442788467272&recurringDetailsResult.details.0.additionalData.cardBin=370000&recurringDetailsResult.details.1.firstPspReference=8525024086731809&recurringDetailsResult.details.1.billingAddress.houseNumberOrName=NA&recurringDetailsResult.details.1.card.billingAddress.city=Herndon&recurringDetailsResult.details.0.creationDate=2015-08-28T23%3A27%3A19%2B02%3A00&recurringDetailsResult.details.1.billingAddress.country=US&recurringDetailsResult.details.1.card.expiryMonth=8&recurringDetailsResult.details.1.creationDate=2017-08-11T01%3A44%3A33%2B02%3A00&recurringDetailsResult.details.1.recurringDetailReference=8314713789907691&recurringDetailsResult.details.0.recurringDetailReference=8414407972394291&recurringDetailsResult.lastKnownShopperEmail=spree%40example.com&recurringDetailsResult.details.1.card.expiryYear=2018
    http_version: 
  recorded_at: Thu, 10 Aug 2017 23:44:34 GMT
- request:
    method: post
    uri: https://<ADYEN_API_USERNAME>:<ADYEN_API_PASSWORD>@pal-test.adyen.com/pal/adapter/httppost
    body:
      encoding: US-ASCII
      string: modificationRequest.merchantAccount=<ADYEN_MERCHANT_ACCOUNT>&modificationRequest.modificationAmount.currency=USD&modificationRequest.modificationAmount.value=2000&modificationRequest.originalReference=8525024086731809&action=Payment.capture
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 10 Aug 2017 23:44:34 GMT
      Server:
      - Apache
      Set-Cookie:
      - JSESSIONID=B10F7C1D4AB2A94A7FD0E0C648EAFFCC.test103e; Path=/pal; Secure; HttpOnly
      Content-Length:
      - '99'
      Content-Type:
      - application/x-www-form-urlencoded
    body:
      encoding: UTF-8
      string: modificationResult.pspReference=8825024086744288&modificationResult.response=%5Bcapture-received%5D
    http_version: 
  recorded_at: Thu, 10 Aug 2017 23:44:35 GMT
recorded_with: VCR 3.0.3
